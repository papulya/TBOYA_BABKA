# Смехотека Оффлайн

**Короче**, эта программа — такая себе штука, которая показывает анекдоты в консоли. Можно их читать, добавлять новые, смотреть список и даже чистить файл, если вдруг шутки уже не смешные. Разбираем, что тут вообще происходит.

---

## 1. Подключение заголовочных файлов

```cpp
#include <iostream>
#include <fstream>
#include <vector>
#include <cstdlib>
#include <ctime>
#include <string>
#include <locale.h>
#include <windows.h>
```

### Что это за штуки?

- **`#include <iostream>`** — короче, это чтобы писать в консоль (`cout`) и читать из неё (`cin`).
- **`#include <fstream>`** — для работы с файлами. Читаем (`ifstream`) и пишем (`ofstream`).
- **`#include <vector>`** — вот тут самое сложное, но не бойся, разберём ниже.
- **`#include <cstdlib>`** — тут всякие полезные штуки типа `rand()` и `system()`.
- **`#include <ctime>`** — нужно, чтобы работать со временем (`time()`).
- **`#include <string>`** — это чтобы работать со строками (`string` вместо массива `char` — удобнее, реально).
- **`#include <locale.h>`** — чтобы русский язык нормально работал в консоли.
- **`#include <windows.h>`** — чтобы в Windows всё правильно показывалось.

---

## 2. Пространство имен

```cpp
using namespace std;
```

- Это типа сокращение, чтобы не писать везде `std::cout`, `std::vector`, а просто `cout`, `vector` и так далее.

---

## 3. Что такое векторы и зачем они нужны?

Короче, `vector` — это типа массив, но умный. Если в `vector` добавлять данные, он сам расширяется, а с обычным массивом (`int arr[10];`) так не прокатит — там фиксированное количество элементов.

### Как его использовать?

```cpp
vector<string> анекдоты;
```

Тут мы создали `vector`, который хранит строки (`string`).

Добавить в него элемент можно так:

```cpp
анекдоты.push_back("Шутка про программистов!");
```

А получить элемент:

```cpp
cout << анекдоты[0]; // Выведет первую шутку
```

`vector` удобен, когда не знаешь, сколько данных будет.

---

## 4. Файл, чтение и запись (а ещё `ios` и его вариации)

Программа открывает файл с шутками и считывает их:

```cpp
ifstream файл("шутки.txt");
```

- `ifstream` — это ввод (чтение) из файла.
- `ofstream` — это вывод (запись) в файл.

### `ios::out` и `ios::app`

- **`ios::out`** — перезаписывает файл с нуля. Короче, если открыть файл в таком режиме, всё, что там было, сотрётся.
- **`ios::app`** — добавляет в конец файла, не удаляя старые данные.

Пример записи:

```cpp
ofstream файл("шутки.txt", ios::out); // Открыли и всё стерли
```

```cpp
ofstream файл("шутки.txt", ios::app); // Открыли и добавляем в конец
```

---

## 5. Генерация случайных чисел

Чтобы программа могла выдавать случайные анекдоты, мы используем `rand()`:

```cpp
srand(static_cast<unsigned>(time(0)));
```

- `time(0)` даёт текущее время в секундах, чтобы `rand()` не выдавал одно и то же число.
- `rand() % анекдоты.size()` выбирает случайный анекдот из списка.

---

## 6. Основной цикл

```cpp
while (выбор != 0) {
    показатьМеню();
    cin >> выбор;
```

- `while (выбор != 0)` — цикл крутится, пока пользователь не введёт `0`.
- `cin >> выбор;` — вводим, что делать.

### Примеры обработки ввода

#### Вывести случайный анекдот

```cpp
if (выбор == 1) {
    system("cls");
    cout << "Анекдот:" << endl << анекдоты[rand() % анекдоты.size()] << endl;
}
```

#### Добавить новый анекдот

```cpp
if (выбор == 3) {
    cin.ignore();
    getline(cin, строка);
    анекдоты.push_back(строка);
    ofstream файл("шутки.txt", ios::out);
    for (auto& анекдот : анекдоты) {
        файл << анекдот << endl;
    }
    файл.close();
}
```

#### Очистить список анекдотов

```cpp
if (выбор == 6) {
    анекдоты.clear();
    ofstream файл("шутки.txt", ios::out);
    файл.close();
    cout << "Список анекдотов очищен!" << endl;
}
```